document.head.insertAdjacentHTML("beforeend",'\n    <style id="custom-gorgias-style">\n        #gorgias-chat-container {\n            display:none;\n        }\n        </style>\n'),GorgiasChat.init().then(function(t){var n=!1;function e(t){return new Promise(n=>{if(document.querySelector(t))return n(document.querySelector(t));const e=new MutationObserver(o=>{document.querySelector(t)&&(n(document.querySelector(t)),e.disconnect())});e.observe(document.body,{childList:!0,subtree:!0})})}function o(){n||(document.querySelector("#chat-window").contentDocument.body.insertAdjacentHTML("beforeend",'\n                <style id="custom-gorgias-style">\n                .widget-xs, .widget-md, .widget-lg {\n                    border-radius: 10px!important;\n                }\n                .chat-title {\n                    display:none!important;\n                }\n                @media(min-height:549px) and (min-width:361px)\n                {\n                    .widget-md, .widget-lg {\n                        width:400px;\n                        height:600px;\n                        top:0;\n                        right:0;\n                        left:unset;\n                    }\n                }   \n                \n                </style>'),n=!0)}function i(){document.querySelector("#custom-gorgias-style").innerHTML="\n\n        @media(min-height:800px) and (min-width:1200px)\n        {\n            #chat-window {\n            margin: 0px 40px 55px 0px;\n            height: 600px!important;\n            width: 400px!important;\n            left: unset!important;\n            bottom: 90px!important;\n            }\n\n            #chat-button {\n                bottom: 58px!important;\n                right: 36px!important;\n            }\n            .widget-md, .widget-lg {\n                width:400px;\n                height:600px;\n                top:0;\n                right:0;\n                left:unset;\n                border-radius: 10px!important;\n            }\n        }\n\n        \n\n       \n\n        "}e("#chat-window").then(n=>{console.log("ready");var a=localStorage.getItem("gorgias.chat-last-pending-message");a&&(console.log("showing Gorgias"),(new Date-Date.parse(a))/1e3<3600?(i(),t.on("widget:opened",function(t){o()}),e("#botxo-chat-1").then(t=>{console.log(certainly),certainly.widgetStatus({action:"hide"})})):(localStorage.removeItem("gorgias.chat-access-token"),console.log("Not showing Gorgias")))}),certainly.getCertainlyTransfer({actionName:"*",callback:function(n){if(""==n.cvars&&console.log("You need to enable your Certainly bot to expose custom variables"),n.cvars.gorgias&&"start_chat"==n.cvars.gorgias){if(console.log("Starting a chat on Gorgias"),t){t.captureUserEmail(n.cvars.customer_email),t.open();var e=n.cvars.chatHistory?n.cvars.chatHistory:"The transcript between Certainly and this visitor is not available";t.sendMessage(e),i(),o(),certainly.widgetStatus({action:"hide"})}certainly.sendCvars({custom_vars:{gorgias:""}})}}})});