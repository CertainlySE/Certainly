document.head.insertAdjacentHTML("beforeend",'\n    <style id="custom-gorgias-style">\n        #gorgias-chat-container {\n            display:none;\n        }\n        </style>\n'),gorgiasChat.init().then(function(n){var t=!1;function e(n){return new Promise(t=>{if(document.querySelector(n))return t(document.querySelector(n));const e=new MutationObserver(o=>{document.querySelector(n)&&(t(document.querySelector(n)),e.disconnect())});e.observe(document.body,{childList:!0,subtree:!0})})}function o(){t||(document.querySelector("#chat-window").contentDocument.body.insertAdjacentHTML("beforeend",'\n                <style id="custom-gorgias-style">\n                .widget-xs {\n                    border-radius: 10px!important;\n                }\n                .chat-title {\n                    display:none!important;\n                }\n                @media(min-height:549px) and (min-width:361px)\n                {\n                    .widget-md, .widget-lg {\n                        width:400px;\n                        height:600px;\n                        top:0;\n                        right:0;\n                        left:unset;\n                        border-radius: 10px!important;\n                    }\n                }   \n                \n                </style>'),t=!0)}function i(){document.querySelector("#custom-gorgias-style").innerHTML="\n\n        @media(min-height:680px) and (min-width:1200px)\n        {\n            #chat-window {\n            margin: 0px 40px 55px 0px;\n            height: 600px!important;\n            width: 400px!important;\n            left: unset!important;\n            bottom: 90px!important;\n            }\n\n            #chat-button {\n                bottom: 58px!important;\n                right: 36px!important;\n            }\n            .widget-md, .widget-lg {\n                width:400px;\n                height:600px;\n                top:0;\n                right:0;\n                left:unset;\n                border-radius: 10px!important;\n            }\n        }\n\n        \n\n       \n\n        "}e("#chat-window").then(t=>{console.log("ready");var a=localStorage.getItem("gorgias.chat-last-pending-message");a&&(console.log("showing Gorgias"),(new Date-Date.parse(a))/1e3<3600?(i(),n.on("widget:opened",function(n){o()}),e("#botxo-chat-1").then(n=>{console.log(certainly),certainly.widgetStatus({action:"hide"})})):console.log("Not showing Gorgias"))}),certainly.getCertainlyTransfer({actionName:"*",callback:function(t){if(""==t.cvars&&console.log("You need to enable your Certainly bot to expose custom variables"),t.cvars.gorgias&&"start_chat"==t.cvars.gorgias){if(console.log("Starting a chat on Gorgias"),n){n.captureUserEmail(t.cvars.customer_email),n.open();var e=t.cvars.chatHistory?t.cvars.chatHistory:"The transcript between Certainly and this visitor is not available";n.sendMessage(e),i(),o(),certainly.widgetStatus({action:"hide"})}certainly.sendCvars({custom_vars:{gorgias:""}})}}})});